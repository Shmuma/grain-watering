#+STARTUP: fold

Планы, задачи и заметки по системе автоматического увлажнения зерна

* notes
** forward
ssh -R 11155:localhost:22 yurix@hadoop.yandex.ru
password: compaq
** port
com2 == /dev/ttyS1
* done
** DONE инициализация демона
   CLOSED: [2008-02-09 Сбт 00:47]
** DONE составить первичный словарь команд ядра
   CLOSED: [2008-02-09 Сбт 04:55]
** DONE соединение с COM-портом
   CLOSED: [2008-02-09 Сбт 04:55]
** DONE просмотреть документацию
   CLOSED: [2008-02-09 Сбт 04:55]
** DONE спросить про сомнительные команды
   CLOSED: [2008-02-22 Птн 00:50]
** DONE инфраструктура интерпретатора команд
   CLOSED: [2008-02-10 Вск 02:13]
** DONE Реализовать остальные команды работы с системой
   CLOSED: [2008-02-20 Срд 01:21]
** DONE сокет команд
   CLOSED: [2008-02-20 Срд 01:21]
** DONE Убрать нафиг команду getpower state
   CLOSED: [2008-02-22 Птн 11:19]
** DONE Исправить команду слива воды из системы
   CLOSED: [2008-02-22 Птн 11:33]
** DONE Исправить протоколирование обменов с портом
   CLOSED: [2008-02-22 Птн 14:23]
** DONE сдампить обмены при получении идентификатора
   CLOSED: [2008-02-22 Птн 14:23]
** DONE реализация таймаута получения данных
   CLOSED: [2008-02-28 Чтв 08:41]
** DONE [#A] Ошибка с выеданием 100% CPU
   CLOSED: [2008-02-28 Чтв 09:55]
** DONE Подключение контроллера к сокету
   CLOSED: [2008-03-01 Сбт 16:09]
** DONE Первичное прикручивание sqlite
   CLOSED: [2008-03-01 Сбт 17:30]
** DONE Команда автоматического управления
   CLOSED: [2008-03-11 Втр 21:22]
** DONE реализовать команду sleep
   CLOSED: [2008-03-16 Вск 11:02]
** DONE [#B] Изменить timeout'ы
   CLOSED: [2008-03-16 Вск 11:34]
** DONE [#A] зависание команды help
   CLOSED: [2008-03-16 Вск 12:11]
** DONE реализовать выполнение скриптов
   CLOSED: [2008-03-16 Вск 13:19]
** DONE [#B] исправить все возвращаемые значения команд на беззнаковые
   CLOSED: [2008-03-16 Вск 13:27]
** DONE Ввести параметр Kfs
   CLOSED: [2008-03-16 Вск 23:00]
** DONE Преобразование результатов по формулам
  CLOSED: [2008-03-16 Вск 23:00]
1. [X] давление воды
2. [X] расход воды
3. [X] температура зерна
** DONE Включение-выключение датчиков наличия зерна
   CLOSED: [2008-03-20 Чтв 01:46]
** DONE Закладка проверки системы
   CLOSED: [2008-03-20 Чтв 02:12]
** DONE [#A] исправить ошибку с остановкой воды для второго этапа
   CLOSED: [2008-03-23 Вск 00:48]
** DONE Странности с переключением кнопок в меню "Проверка"
   CLOSED: [2008-03-23 Вск 01:29]
** DONE Изменить расход воды в формуле с 7200 на 3600
   CLOSED: [2008-03-23 Вск 01:46]
** DONE Преобразование возвращаемых значений по формулам
   CLOSED: [2008-03-23 Вск 02:14]
** DONE Ошибка с получением значений датчиков (неверный индекс)
   CLOSED: [2008-03-23 Вск 02:22]
** DONE Реализации цикла контроля параметров
   CLOSED: [2008-03-25 Втр 00:07]
** DONE переделать кнопки запуска-остановки для каждого этапа
   CLOSED: [2008-04-08 Втр 22:07]
** DONE Общая кнопка остановки системы
   CLOSED: [2008-04-11 Птн 00:14]
** DONE Обработка данных цикла контроля параметров в интерфейсе
   CLOSED: [2008-04-11 Птн 00:14]
** DONE Отображение состояния БШУ
   CLOSED: [2008-04-11 Птн 00:14]
** DONE набросок интерфейса конфигурирования системы
   CLOSED: [2008-04-11 Птн 00:15]
** DONE Исправить ошибку с unsigned char в слове состояния
   CLOSED: [2008-04-11 Птн 00:57]
** DONE Исправить ошибку со сдвигом в getHigh
   CLOSED: [2008-04-11 Птн 00:56]
** DONE Передача параметров системы демону
   CLOSED: [2008-04-13 Вск 00:22]
** DONE Редактирование параметров
   CLOSED: [2008-04-13 Вск 01:04]
** DONE Сохранение параметров системы в базе
   CLOSED: [2008-04-13 Вск 02:16]
** DONE Редактирование таблиц коэффициентов
  CLOSED: [2008-04-15 Втр 19:19]
1. [X] влажность
2. [ ] расход зерна
3. [ ] натура зерна
4. [ ] 
5. [ ] 
* MAYBE Команда управления режимом протоколирования
* MAYBE Реализовать отладочный режим в демоне
* WAITING Ждем список бит регитров
* TODO Сохраниение данных цикла контроля параметров
* TODO Реализация цикла управления
* TODO Реализация полуавтоматического режима с явным указанием уставки
* TODO Учитывать таблицы при расчете параметров
* MAYBE [#A] Узнать про тип значений в таблице коэффициентов
* TODO Пароль администратора
* TODO Пароль конфигурирования
* TODO Вычисление уставки
* TODO Сохранение параметров в базе
* TODO Законы изменения параметров в модели системы
* TODO Выключить наличие датчиков зерна по умолчанию
* TODO Проверять поток зерна 
если поток меньше установленного в параметрах, то считаем что зерна нет

* TODO Проверка наличия связи с контроллером в цикле контроля параметров
Выполняем connect
Выполняем getstatus
Если обе команды завершились по таймауту, то считаем что контроллер
недоступен
Если вторая команда вернула manual, то переходим в ручной режим

